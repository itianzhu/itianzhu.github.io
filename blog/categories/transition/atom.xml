<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Transition | tz's Blog]]></title>
  <link href="http://itianzhu.github.io/blog/categories/transition/atom.xml" rel="self"/>
  <link href="http://itianzhu.github.io/"/>
  <updated>2013-12-26T23:41:49+08:00</updated>
  <id>http://itianzhu.github.io/</id>
  <author>
    <name><![CDATA[tz]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[iOS7的切换动画]]></title>
    <link href="http://itianzhu.github.io/blog/2013/12/20/ios7de-qie-huan-dong-hua/"/>
    <updated>2013-12-20T22:56:45+08:00</updated>
    <id>http://itianzhu.github.io/blog/2013/12/20/ios7de-qie-huan-dong-hua</id>
    <content type="html"><![CDATA[<p>iOS7中自定义ViewController切换动画
一、简介</p>

<ol>
<li>实现UIViewControllerAnimatedTransitioning协议，这个协议里的方法具体实现动画</li>
<li>实现UINavigationControllerDelegate协议，这个协议里的的方法返回实现上一个协议的实例</li>
<li>子类UINavigationController,这个就是具有自定义切换功能的实例，所有在这个实例中进行的push、pop都会有自定义的动画</li>
</ol>


<p>二、文件简介
{% codeblock lang:objc %}
ITCornerTransiton.m //实现简介第1点
ITNavigationDelegate.m //实现简介第2点
ITNavigationController.m //实现简介第3点
{% endcodeblock %}</p>

<p>三、注意事项</p>

<ol>
<li>简介第1点的实现代码
{% codeblock lang:objc %}
toVC.view.frame = self.toBeganFrame;
[contrainerView addSubview:toVC.view];//(1)
[UIView animateWithDuration:[self transitionDuration:transitionContext] animations:^{
 fromVC.view.frame = self.fromEndFrame;
 toVC.view.frame = contrainerView.frame;
} completion:^(BOOL finished) {
 [fromVC.view removeFromSuperview];//(2)
 [transitionContext completeTransition:YES];//(3)
}];
{% endcodeblock %}
(1)新的view一定要自己addSubView<br/>
(2)原来的view一定要自己remove<br/>
(3)一定要通知 完成</li>
<li>简介第3点实现代码
{% codeblock lang:objc %}
self.navDelegate = [[ITNavigationDelegate alloc] init];
((ITNavigationDelegate*)self.navDelegate).delegateType = DelegateTypeBackSlash;
self.delegate = self.navDelegate;
{% endcodeblock %}
在ARC模式下，由于self.delegate是assige的，导致此处创建的ITNavigationDelegate会在方法最后被释放掉，所以一定要自己创建的一个属性来保存</li>
</ol>


<p>具体信息查看代码<a href="https://github.com/itianzhu/TransitionDemo.git">https://github.com/itianzhu/TransitionDemo.git</a></p>
]]></content>
  </entry>
  
</feed>
